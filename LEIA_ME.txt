melhores testes:
    Mais ambíguos:
            8x3
            9x4
            5x6
            2x7
            1x7
            5x9


Por que outros datasets funcionam com subsample menor?

Par	Razão	                                    Subsample seguro
0 vs 1	Geometrias opostas (círculo vs linha)	3-5%
3 vs 8	Diferenças topológicas (aberturas)	    5-10%
4 vs 9	Estruturas distintas (ângulos vs loops)	5-10%
5 vs 6	Ambiguidade concentrada em minoria	    15-30%
7 vs 9	Similar ao 5 vs 6 (loops)	            15-25%



Essa é uma ótima iniciativa. Organizar o projeto agora vai te salvar horas de dor de cabeça na hora de empacotar tudo para a banca ou para o GitHub.

Vou te passar um **Script Python Automático** que cria a estrutura de pastas perfeita para você. Depois, vou te dar o "Mapa" de qual código colar em qual lugar.

### Passo 1: O Criador de Estrutura (Script)

Crie um arquivo chamado `organizar_projeto.py` na pasta onde você quer criar o projeto novo, cole este código e execute-o. Ele vai criar as pastas e arquivos vazios para você.

```python
import os

# Nome da Pasta Raiz do Projeto
PROJECT_NAME = "MESTRADO_XAI_PEAB2"

# Estrutura de Pastas e Arquivos
structure = {
    f"{PROJECT_NAME}/_LEGADO": ["README.txt"],  # Para jogar o PEAB 1 e coisas velhas
    f"{PROJECT_NAME}/config": ["__init__.py", "datasets.py", "params.py"],
    f"{PROJECT_NAME}/src": ["__init__.py", "peab_v2.py", "milp_solver.py"], # Lógica pesada
    f"{PROJECT_NAME}/utils": ["__init__.py"], # Suas barras de progresso, etc
    f"{PROJECT_NAME}/data": [], # Seus CSVs originais
    f"{PROJECT_NAME}/results": [],
    f"{PROJECT_NAME}/results/logs": [],
    f"{PROJECT_NAME}/results/csv_bench": [],
    f"{PROJECT_NAME}/results/plots": [],
    f"{PROJECT_NAME}/results/reports": [],
    f"{PROJECT_NAME}": ["run_benchmark.py", "run_analysis.py", "README.md"] # Executáveis na raiz
}

def create_structure():
    print(f"Criando estrutura para: {PROJECT_NAME}...\n")
    
    for folder, files in structure.items():
        # Cria a pasta
        os.makedirs(folder, exist_ok=True)
        print(f"  [PASTA] {folder}")
        
        # Cria os arquivos vazios (placeholders)
        for file in files:
            file_path = os.path.join(folder, file)
            if not os.path.exists(file_path):
                with open(file_path, 'w', encoding='utf-8') as f:
                    if file.endswith(".py"):
                        f.write(f"# Arquivo: {file}\n# Cole o código correspondente aqui.\n")
                    elif file == "README.txt":
                        f.write("Coloque aqui os scripts antigos (PEAB 1) para histórico.")
                print(f"    -> [ARQUIVO] {file} criado.")
            else:
                print(f"    -> [ARQUIVO] {file} já existe.")

    print(f"\n[SUCESSO] Estrutura criada! Agora mova seus códigos conforme o guia.")

if __name__ == "__main__":
    create_structure()
```

-----

### Passo 2: O Mapa da Migração (Onde colar o quê)

Agora que as pastas e arquivos vazios foram criados, abra seu editor (VS Code, PyCharm) e faça o seguinte transplante:

#### 1\. A Lógica Principal (`src/peab_v2.py`)

  * **Origem:** Copie todo o conteúdo do seu atual `peab2.py`.
  * **Destino:** Cole dentro de `src/peab_v2.py`.
  * **Ajuste Importante:** No topo desse arquivo, mude os imports de utils se necessário (ex: `from utils.progress_bar` continua igual se a pasta `utils` estiver na raiz do projeto).

#### 2\. As Configurações (`config/datasets.py`)

  * **Origem:** Vá no seu `peab2.py` e recorte os dicionários `MNIST_CONFIG` e `DATASET_CONFIG`.
  * **Destino:** Cole em `config/datasets.py`.
  * **Motivo:** Se você quiser mudar o custo do MNIST ou o subsample, você mexe aqui, sem risco de quebrar o código lógico.

#### 3\. O Juiz Matemático (`src/milp_solver.py`)

  * **Origem:** Vá no seu `benchmark_peab2.py` e recorte a função `calcular_minimo_exato_pulp`.
  * **Destino:** Cole em `src/milp_solver.py`.
  * **Motivo:** Deixa o script de benchmark mais limpo.

#### 4\. O Executável de Teste (`run_benchmark.py`)

  * **Origem:** O restante do seu `benchmark_peab2.py` (a função `executar_benchmark` e o loop).
  * **Destino:** Cole em `run_benchmark.py` (na raiz).
  * **Ajuste de Importação:** No topo desse arquivo, você terá que mudar:
    ```python
    # Antigo: from peab2 import ...
    # Novo:
    from src.peab_v2 import gerar_explicacao_instancia, treinar_e_avaliar_modelo, ...
    from src.milp_solver import calcular_minimo_exato_pulp
    from config.datasets import DATASET_CONFIG
    ```

#### 5\. O Gerador de Relatórios (`run_analysis.py`)

  * **Origem:** Seus scripts `bench_resumo.py` e `analise_grafica.py`.
  * **Destino:** Junte-os (ou mantenha separados) em `run_analysis.py` na raiz.

#### 6\. Utilitários

  * Copie sua pasta `utils` (aquela que tem a `progress_bar.py`) para dentro da pasta nova `MESTRADO_XAI_PEAB2/utils`.

-----

### Como vai ficar seu trabalho daqui pra frente:

1.  Quer rodar o experimento?
    `python run_benchmark.py`
2.  Quer gerar os gráficos finais?
    `python run_analysis.py`
3.  Quer mudar parametros (ex: testar MNIST full)?
    Abre `config/datasets.py` e edita.

Isso é uma estrutura profissional de Engenharia de Software. Seu professor vai notar a organização.


agora que eu sei que esta tudo funcionando, meu professor pediu pra separar o peab do pulp, no arquivo benchmark_peab ele faz a analsise do peab e do pulp juntos ne isso? antes de modificar alguma coisa preciso do seu parecer, fazer a análise separado ou seja minha ideia é criar um arquivo chamado PuLP esse arquivo gera a análise do pulp e salva da mesma forma que o peab ou anchor e o minexp salva em um json com seu nome na pasta json e salva um relatório na pasta com seu nome, no final ele poderia gerar logo o relatório comparativo mas por aorganização não sei se seria uma boa ideia pois a outra ideia seria criar outro arquivo de nome peabXpulp onde ele compararia e criaria o relatório deltalhado no mesmo formato que ja esta criando